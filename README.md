# سامانه صدور فاکتور | Invoice Generator

سامانه مدرن و کاربردی برای صدور فاکتور با پشتیبانی از PDF، تخفیف، مالیات و قابلیت اشتراک در شبکه‌های اجتماعی.

![Invoice Generator Preview](https://img.shields.io/badge/Persian-فارسی-blue) ![Version](https://img.shields.io/badge/version-1.0.0-green) ![License](https://img.shields.io/badge/license-MIT-blue)

## 🎆 ویژگی‌های جدید

### 📊 شماره‌گذاری جدید
- شماره‌گذاری بر اساس تاریخ جلالی: `404727-001`
- فرمت: `YYMMDD-XXX` (مثال: ۲۷/۷/۱۴۰۴ = 404727-001)
- شماره‌گذاری متوالی از 001 به بعد
- افزایش خودکار با هر PDF تولید شده

### 💰 سیستم تخفیف و مالیات
- تخفیف سطری برای هر خدمت
- تخفیف کلی بر روی کل فاکتور
- مالیات 10% خودکار
- محاسبه و نمایش جزئیات مالی
- نمایش جالب محاسبات در فاکتور

### 🏦 اطلاعات بانکی
- شماره کارت (با فرمت خودکار 0000-0000-0000-0000)
- شماره حساب بانکی
- شماره شبا (IBAN) با فرمت IR
- نمایش زیبا در فاکتور
- حفظ خودکار اطلاعات

## ویژگی‌های اصلی

### 🎨 طراحی مدرن
- تم تیره و روشن با تعویض آسان
- طراحی رسپانسیو برای همه دستگاه‌ها
- انیمیشن‌ها و افکت‌های بصری جذاب
- پشتیبانی کامل از فارسی (RTL)
- فونت وزیرمتن برای زیبایی بیشتر

### 📝 مدیریت خدمات
- لیست پیش تعریف شده خدمات:
  - 🌐 **خدمات وب**: طراحی سایت، پشتیبانی، امنیت، ارتقاء، سئو
  - 💹 **آموزش بازارهای مالی**: تحلیل تکنیکال، فارکس، ارزهای دیجیتال، دیفای
  - 🔒 **خدمات VPN و شبکه**: راه‌اندازی، امنیت، مونیتورینگ، فایروال
- امکان افزودن خدمات سفارشی
- محاسبه خودکار با تخفیف و مالیات

### 📄 صدور فاکتور حرفه‌ای
- فرم کامل اطلاعات شرکت قابل ویرایش
- بخش اطلاعات بانکی جداگانه
- جدول خدمات با ستون تخفیف
- محاسبات دقیق با جزئیات
- پیش نمایش لحظه‌ای فاکتور

### 📤 اشتراک و صادرات
- تولید PDF با کیفیت بالا و فونت فارسی
- ارسال مستقیم ایمیل
- اشتراک یک کلیکی در واتس‌اپ
- اشتراک یک کلیکی در تلگرام

### 💾 ذخیره‌سازی هوشمند
- ذخیره‌سازی خودکار هر 10 ثانیه
- بازیابی اطلاعات شرکت و بانکی
- حفظ تنظیمات تم
- عملکرد بهینه برای موبایل و دسکتاپ

## نصب و راه‌اندازی

### پیش‌نیازها
- حساب [Cloudflare](https://cloudflare.com)
- [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/) نصب شده
- [Node.js](https://nodejs.org) (v16 یا بالاتر)

### مراحل نصب

#### 1. کلون ریپازیتوری
```bash
git clone https://github.com/Farsimen/invoice-generator.git
cd invoice-generator
```

#### 2. نصب Wrangler CLI
```bash
npm install -g wrangler
```

#### 3. ورود به Cloudflare
```bash
wrangler login
```

#### 4. ایجاد KV Namespace (اختیاری)
```bash
wrangler kv:namespace create "INVOICE_DATA"
wrangler kv:namespace create "INVOICE_DATA" --preview
```

#### 5. به‌روزرسانی wrangler.toml

IDهای تولید شده در مرحله قبل را در فایل `wrangler.toml` جایگزین کنید.

#### 6. استقرار نهایی
```bash
wrangler publish
```

### استفاده به صورت محلی

#### تست با Wrangler
```bash
wrangler dev
```

#### یا استفاده مستقیم
فایل `index.html` را مستقیماً در مرورگر باز کنید.

## راهنمای استفاده

### 1️⃣ تنظیم اطلاعات شرکت
- فیلدهای اطلاعات شرکت را تکمیل کنید
- اطلاعات بانکی را وارد کنید
- همه اطلاعات به طور خودکار ذخیره و بازیابی می‌شوند

### 2️⃣ افزودن اطلاعات مشتری
- برای هر فاکتور جدید اطلاعات مشتری را وارد کنید
- فیلدها اختیاری هستند

### 3️⃣ انتخاب و اضافه خدمات
- از لیست پیش تعریف انتخاب یا خدمت سفارشی وارد کنید
- تعداد، قیمت واحد و تخفیف را مشخص کنید
- دکمه پلاس را کلیک کنید
- در صورت نیاز، تخفیف کلی اعمال کنید

### 4️⃣ صدور و اشتراک
- پیش نمایش فاکتور را بررسی کنید
- محاسبات تخفیف و مالیات را تأیید کنید
- PDF تولید کنید یا در شبکه‌های اجتماعی به اشتراک بگذارید

## مثال شماره‌گذاری

برای تاریخ ۲۷/۷/۱۴۰۴:
- فرمت: `YYMMDD-XXX`
- سال: 1404 → 04
- ماه: 7 → 07  
- روز: 27 → 27
- شماره نهایی: **404727-001**

## تنظیمات پیشرفته

### تغییر خدمات پیش تعریف
```html
<!-- در فایل index.html -->
<optgroup label="خدمات جدید">
    <option value="نام خدمت">نام خدمت</option>
</optgroup>
```

### تغییر نرخ مالیات
```javascript
// در فایل script.js - خط 467
return (taxableAmount * 10) / 100; // 10% را به نرخ دلخواه تغییر دهید
```

### سفارشی‌سازی ظاهر
رنگ‌ها و استایل‌ها را در فایل `styles.css` و بخش `:root` قابل تغییر هستند:
```css
:root {
    --accent-color: #3b82f6; /* رنگ اصلی */
    --success-color: #10b981; /* رنگ موفقیت */
    --danger-color: #ef4444;  /* رنگ خطر */
}
```

### افزودن لوگو
```html
<!-- در بخش .invoice-header در script.js -->
<img src="logo.png" alt="لوگو شرکت" style="max-height: 80px;">
```

## کتابخانه‌های استفاده شده

| کتابخانه | کاربرد | نسخه |
|------------|---------|-------|
| jsPDF | تولید PDF | 2.5.1 |
| html2canvas | تبدیل HTML به تصویر | 1.4.1 |
| Font Awesome | آیکن‌ها | 6.0.0 |
| Vazirmatn | فونت فارسی | آخرین |
| Cloudflare Workers | هاستینگ و API | - |

## مشارکت

برای بهبود و توسعه این پروژه:

1. پروژه را **Fork** کنید
2. برنچ جدید برای فیچر خود ایجاد کنید
3. تغییرات را **Commit** کنید
4. **Pull Request** ارسال کنید

## لیست TODO

- [ ] افزودن پشتیبانی چند زبانه
- [ ] تولید فایل Word (DOCX)
- [ ] ایمپورت/اکسپورت فاکتورها
- [ ] افزودن قابلیت چاپ
- [ ] پنل مدیریت فاکتورها
- [ ] ایجاد جدول زمانی پرداخت

## مجوز

این پروژه تحت مجوز **MIT** منتشر شده است.

## تماس و پشتیبانی

- برای گزارش باگ: [Issues](https://github.com/Farsimen/invoice-generator/issues)
- برای پیشنهاد فیچر جدید: [Feature Request](https://github.com/Farsimen/invoice-generator/issues/new)
- توسعه دهنده: [@Farsimen](https://github.com/Farsimen)

---

<div align="center">

**ساخته شده با ❤️ در ایران**

[![GitHub stars](https://img.shields.io/github/stars/Farsimen/invoice-generator?style=social)](https://github.com/Farsimen/invoice-generator/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/Farsimen/invoice-generator?style=social)](https://github.com/Farsimen/invoice-generator/network)

</div>

---

**نوت مهم**: این سامانه به طور کامل بر روی کلاینت اجرا می‌شود و هیچ اطلاعاتی به سرور ارسال نمی‌شود. تمام اطلاعات بر روی مرورگر شما ذخیره می‌شود.