/* ... previous styles retained ... */
@import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');

:root{--bg-primary:#ffffff;--bg-secondary:#f8fafc;--bg-card:#ffffff;--text-primary:#1a202c;--text-secondary:#4a5568;--border-color:#e2e8f0;--accent-color:#3b82f6;--accent-hover:#2563eb;--success-color:#10b981;--danger-color:#ef4444}
[data-theme="dark"]{--bg-primary:#0f172a;--bg-secondary:#1e293b;--bg-card:#334155;--text-primary:#f1f5f9;--text-secondary:#cbd5e1;--border-color:#475569;--accent-color:#60a5fa;--accent-hover:#3b82f6;--success-color:#34d399;--danger-color:#f87171}
*{box-sizing:border-box}body{font-family:'Vazirmatn',sans-serif;background:linear-gradient(135deg,var(--bg-primary),var(--bg-secondary));color:var(--text-primary);direction:rtl}
.container{max-width:1200px;margin:0 auto;padding:20px}
.header{background:var(--bg-card);border:1px solid var(--border-color);border-radius:16px;padding:16px;box-shadow:0 4px 10px rgba(0,0,0,.06)}
.header-content{display:flex;justify-content:space-between;align-items:center}
.theme-btn{background:var(--accent-color);color:#fff;border:none;border-radius:10px;padding:10px 12px;cursor:pointer}

.main-content{display:flex;flex-direction:column;gap:20px}
section{background:var(--bg-card);border:1px solid var(--border-color);border-radius:16px;padding:20px}
section h2{font-size:1.2rem;margin-bottom:10px;color:var(--text-primary)}
section h3{font-size:1rem;margin:12px 0;color:var(--text-primary)}

.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
.form-group{display:flex;flex-direction:column;gap:6px}
input,textarea,select{padding:10px 12px;border:2px solid var(--border-color);border-radius:10px;background:var(--bg-primary);color:var(--text-primary)}
.card{background:var(--bg-secondary);border:1px dashed var(--border-color);padding:12px;border-radius:12px}
.add-btn{background:var(--success-color);color:#fff;border:none;border-radius:10px;padding:10px 14px;display:flex;align-items:center;gap:8px}
.services-list{margin-top:12px;display:flex;flex-direction:column;gap:10px}
.service-item{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px;padding:12px;display:flex;justify-content:space-between;align-items:center}
.remove-btn{background:var(--danger-color);color:#fff;border:none;border-radius:8px;padding:8px}

.total-discount-section{margin-top:16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:12px}

.invoice-actions{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}
.action-btn{color:#fff;border:none;border-radius:10px;padding:10px 14px}
.pdf-btn{background:#ef4444}.email-btn{background:var(--accent-color)}.whatsapp-btn{background:#25d366}.telegram-btn{background:#0088cc}

.invoice-preview{background:#fff;border:1px solid var(--border-color);border-radius:12px;padding:24px;color:#000}
.invoice-title{font-size:2rem;color:var(--accent-color);font-weight:700}
.invoice-number{font-family:'Courier New',monospace;color:#666}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:flex-start}
.right-col{} .left-col{}
.company-info{margin-top:10px}
.info-title{color:var(--accent-color);font-weight:700;margin-bottom:6px;border-bottom:2px solid #eee;padding-bottom:4px}
.info-content{line-height:1.8}
.banking-info{background:#f8f9fa;border-right:4px solid var(--accent-color);border-radius:8px;padding:12px}
.bank-item{display:flex;justify-content:space-between;margin-bottom:6px}
.bank-label{font-weight:600;color:#666}

.services-table{width:100%;border-collapse:collapse;margin:16px 0}
.services-table th{background:var(--accent-color);color:#fff;padding:10px;text-align:center}
.services-table td{border-bottom:1px solid #eee;padding:10px;text-align:center}

.invoice-calculations{display:flex;justify-content:flex-end}
.calculations-box{background:#f8f9fa;border:1px solid #e9ecef;border-radius:12px;padding:12px;min-width:300px}
.calc-row{display:flex;justify-content:space-between;border-bottom:1px solid #dee2e6;padding:8px 0}
.discount-calc{color:#dc3545}.tax-calc{color:#28a745}

@media(max-width:768px){.grid-2{grid-template-columns:1fr}.action-btn{flex:1;min-width:140px}}
